.386
.model flat,stdcall
.stack 4096
OPTION PROC:PRIVATE
ExitProcess PROTO, dwExitCode:DWORD

INCLUDE Irvine32.inc 


; ----Constants----

; base player stats
PLAYER_BASE_ATK		EQU 16
PLAYER_BASE_DEF		EQU 8
PLAYER_BASE_HP		EQU 100
HEAL_MIN			EQU 30
PLAYER_BASE_HEAL	EQU 1

; player upgrade values
PLAYER_UPGRADE_HP				EQU 10
PLAYER_UPGRADE_HP_PRICE			EQU 15
PLAYER_UPGRADE_HP_PRICE_INC		EQU 10
PLAYER_UPGRADE_DEF				EQU 2
PLAYER_UPGRADE_DEF_PRICE		EQU 20
PLAYER_UPGRADE_DEF_PRICE_INC	EQU 10
PLAYER_UPGRADE_ATK				EQU 3
PLAYER_UPGRADE_ATK_PRICE		EQU 15
PLAYER_UPGRADE_ATK_PRICE_INC	EQU 15
PLAYER_UPGRADE_HPot_PRICE		EQU 10
PLAYER_UPGRADE_HPot_PRICE_INC	EQU 20


; base enemy stats
ENEMY_BASE_ATK  EQU 12
ENEMY_BASE_DEF  EQU 4
ENEMY_BASE_HP   EQU 50

; enemy stats scaling 
ENEMY_STEP_ATK  EQU 6
ENEMY_STEP_DEF  EQU 4
ENEMY_STEP_HP   EQU 20



; ----Shared Variables----

; player stats
EXTERNDEF gPlayerHP:DWORD
EXTERNDEF gPlayerMaxHP:DWORD
EXTERNDEF gPlayerATK:DWORD
EXTERNDEF gPlayerDEF:DWORD

; enemy stats
Enemy STRUCT
    HP      DWORD ?
    MaxHP   DWORD ?
    ATK     DWORD ?
    DEF     DWORD ?
Enemy ENDS

EXTERNDEF gEnemyCount:DWORD
EXTERNDEF gEnemies:Enemy

EXTERNDEF gEnemyHP:DWORD
EXTERNDEF gEnemyMaxHP:DWORD
EXTERNDEF gEnemyATK:DWORD
EXTERNDEF gEnemyDEF:DWORD

; shop
EXTERNDEF gShopHP:DWORD
EXTERNDEF gShopATK:DWORD
EXTERNDEF gShopDEF:DWORD
EXTERNDEF gShopHPot:DWORD

; misc values
EXTERNDEF gLevel:DWORD
EXTERNDEF gGold:DWORD
EXTERNDEF gGameState:DWORD
EXTERNDEF gHealPots:DWORD
EXTERNDEF gHealing:DWORD

; ----Prototypes----

; ui
PrintCRLF		PROTO
ClearScreen		PROTO
PrintStr		PROTO pStr:PTR BYTE
PrintNum		PROTO val:DWORD
DisplayPlayer	PROTO
DisplayEnemy	PROTO eNum:DWORD
DisplayBar		PROTO
DisplayMenu		PROTO

; enemy
LevelUpEnemy    PROTO
CreateEnemy		PROTO

; battle
BattleLoop		PROTO

; shop
shop			PROTO